[
{'bay': '1', 'name': 's001vs-esxi54.sibur.local', 'serial': 'CZJ3450BG3', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '2', 'name': 's001vs-esxi55.sibur.local', 'serial': 'CZJ3450BG2', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '3', 'name': 's001as-eap1', 'serial': '', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '4', 'name': 's001as-smp1', 'serial': 'CZJ3450BGR', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '5', 'name': 's001db-bap01', 'serial': 'CZJ3450BGK', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '6', 'name': 's001db-gap01', 'serial': 'CZJ3450BHC', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '7', 'name': 's001vs-esxi105.sibur.local', 'serial': 'CZ34154DFA', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '8', 'name': 's001vs-esxi106.sibur.local', 'serial': 'CZ34154DF8', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '9', 'name': 's001as-bip1', 'serial': 'CZJ3450BH3', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '10', 'name': 's001as-bap3', 'serial': 'CZJ3450BGN', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '11', 'name': 's001vs-esxi66', 'serial': 'CZJ3450BGC', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '12', 'name': 's001db-bnp01', 'serial': 'CZJ3450BH2', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '13', 'name': 's001as-bnp1', 'serial': 'CZJ3450BG5', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '14', 'name': 's001as-dsp1', 'serial': 'CZJ3450BHH', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '15', 'name': 's001db-efr1', 'serial': 'CZJ3450BH8', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'},
{'bay': '16', 'name': 's001as-hrp1', 'serial': 'CZ29220KC0', 'status': 'OK', 'power': 'On', 'enclosure_name': 'Rack_11', 'enclosure_ip': '10.2.12.161'}
]


Rack        id
Rack-01     1




site        id
COD-1       1
COD-2       2
COD-320     3


x = nb.dcim.devices.get(name='test1-a3-tor1b')
x.serial
x.serial = '1234'
x.save()

x = nb.dcim.devices.get(1)
x.update({
    "comments": "update method",
    "serial": "ABC321",
    })

x =nb.dcim.devices.all()
x[3].parent_device.device_bay
x[3].parent_device

#x[2].delete()
x[4].serialize()